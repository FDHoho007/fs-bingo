/**
 * Renders the game field and from the array that is being generated by the getContent function.
 */
function renderGameField() {

    // array containing sqr(n) strings of possible options to chose from
    let options = [];

    try {
        options = getContent();
    } catch (e) {
        if (e instanceof InvalidSubdomainError) {
            alert("Diese Seite ist nicht bekannt.")
            return;
        }

        if (e instanceof InvalidConfigurationError) {
            alert("Geladene daten haben kein valides Format.")
            return;
        }
    }

    // both width and height of game field since options has length sqr(n)
    const width = Math.round(Math.sqrt(options.length));
    // table representing the game board
    const gameBoard = document.getElementById("board");
    // clear the game board
    gameBoard.innerHTML = "";

    for (let i = 0; i <= width; i++) {
        const row = document.createElement("tr");
        for (let j = 0; j <= width; j++) {
            const cell = document.createElement("td");
            cell.innerText = options.pop().toString();
            cell.onclick = clickField;
            row.appendChild(cell);
        }
        gameBoard.appendChild(row);
    }
}

function win() {
    //alert("Yeah du hast alles! BINGO!")
    spawnConfetti();
}

if (location.hostname === "fs.bingo") {
    location.href = "https://github.com/FDHoho007/fs-bingo";
}

// start to render the ui now
renderGameField();
